---
alwaysApply: true
---
# ğŸŒŸ Glasso é¡¹ç›®å¼€å‘è§„èŒƒ - Cursor AI Rules

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: Glasso  
**é¡¹ç›®ç±»å‹**: çº¯ç¦»çº¿ iOS åº”ç”¨ï¼ˆå£çº¸ + å¿ƒæƒ…æ—¥è®°ï¼‰  
**æŠ€æœ¯æ ˆ**: Flutter + GetX + Cupertino  
**ç›®æ ‡å¹³å°**: iOS (App Store)  

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### æ¡†æ¶ä¸æ¶æ„
- **Flutter SDK**: ^3.0.0
- **çŠ¶æ€ç®¡ç†**: GetX ^4.7.2 (å“åº”å¼ + è·¯ç”±)
- **UI é£æ ¼**: çº¯ Cupertino (iOS åŸç”Ÿé£æ ¼)
- **æ¶æ„æ¨¡å¼**: StatelessWidget + GetX Controller + Service

### æ ¸å¿ƒä¾èµ–
```yaml
get: ^4.7.2                           # çŠ¶æ€ç®¡ç† + è·¯ç”±
get_storage: ^2.1.1                   # æœ¬åœ°å­˜å‚¨
liquid_glass_renderer: ^0.1.1-dev.25  # æ¶²ä½“ç»ç’ƒ UI
extended_image: ^10.0.1               # å›¾ç‰‡/GIF + æ‰‹åŠ¿
video_player: ^2.9.2                  # è§†é¢‘æ’­æ”¾
flutter_staggered_grid_view: ^0.7.0   # ç€‘å¸ƒæµ
flutter_animate: ^4.5.2               # åŠ¨ç”»
logger: ^2.6.2                        # æ—¥å¿—
```

---

## ğŸš¦ å¼€å‘æµç¨‹è§„èŒƒ

### âš ï¸ é‡è¦ï¼šç¦æ­¢ç›´æ¥å†™ä»£ç ï¼

å½“ç”¨æˆ·æå‡ºæ–°éœ€æ±‚æ—¶ï¼Œ**å¿…é¡»**æŒ‰ç…§ä»¥ä¸‹ 4 ä¸ªé˜¶æ®µè¿›è¡Œï¼š

### ğŸ“ é˜¶æ®µ 1: éœ€æ±‚æ¾„æ¸… (Requirement Clarification)

**è¡ŒåŠ¨**: é€šè¿‡æé—®æ·±å…¥ç†è§£éœ€æ±‚

**å¿…é—®é—®é¢˜**:
1. **åŠŸèƒ½ç›®æ ‡**: 
   - è¿™ä¸ªåŠŸèƒ½è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ
   - ç”¨æˆ·ä½¿ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆï¼Ÿ
   - é¢„æœŸçš„ç”¨æˆ·ä½“éªŒæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ

2. **UI/UX ç»†èŠ‚**:
   - éœ€è¦ä»€ä¹ˆæ ·çš„è§†è§‰æ•ˆæœï¼Ÿï¼ˆåŠ¨ç”»ã€è¿‡æ¸¡ã€äº¤äº’ï¼‰
   - æ˜¯å¦æœ‰å‚è€ƒè®¾è®¡æˆ–ç°æœ‰ App ä½œä¸ºå‚è€ƒï¼Ÿ
   - æ˜¯å¦éœ€è¦é€‚é…æ·±è‰²æ¨¡å¼ï¼Ÿ

3. **æ•°æ®å¤„ç†**:
   - æ•°æ®æ¥æºæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæœ¬åœ°èµ„æº/ç”¨æˆ·è¾“å…¥ï¼‰
   - æ•°æ®å¦‚ä½•å­˜å‚¨ï¼Ÿï¼ˆå†…å­˜/æœ¬åœ°æŒä¹…åŒ–ï¼‰
   - æ˜¯å¦éœ€è¦ç¼“å­˜ç­–ç•¥ï¼Ÿ

4. **æ€§èƒ½è¦æ±‚**:
   - æ˜¯å¦æœ‰æ€§èƒ½æŒ‡æ ‡ï¼Ÿï¼ˆCPU/å†…å­˜/å¸§ç‡ï¼‰
   - æ˜¯å¦æ¶‰åŠå¤§é‡æ•°æ®/åª’ä½“æ–‡ä»¶ï¼Ÿ
   - æ˜¯å¦éœ€è¦é¢„åŠ è½½/æ‡’åŠ è½½ï¼Ÿ

5. **è¾¹ç•Œæ¡ä»¶**:
   - ç©ºçŠ¶æ€å¦‚ä½•å¤„ç†ï¼Ÿ
   - é”™è¯¯æƒ…å†µå¦‚ä½•å¤„ç†ï¼Ÿ
   - æ˜¯å¦éœ€è¦åŠ è½½çŠ¶æ€ï¼Ÿ

**è¾“å‡ºæ ¼å¼**:
```markdown
## ğŸ“‹ éœ€æ±‚æ¾„æ¸…

### ç”¨æˆ·éœ€æ±‚
- [åŸå§‹éœ€æ±‚æè¿°]

### å¾…ç¡®è®¤é—®é¢˜
1. [é—®é¢˜ 1]
2. [é—®é¢˜ 2]
3. [é—®é¢˜ 3]
...

è¯·ç¡®è®¤ä»¥ä¸Šé—®é¢˜åï¼Œæˆ‘å°†è¿›å…¥æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡é˜¶æ®µã€‚
```

---

### ğŸ“ é˜¶æ®µ 2: æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ (Technical Design)

**è¡ŒåŠ¨**: åœ¨éœ€æ±‚æ˜ç¡®åï¼Œè®¾è®¡æŠ€æœ¯æ–¹æ¡ˆ

**å¿…é¡»åŒ…å«**:
1. **æ¶æ„è®¾è®¡**:
   - ä½¿ç”¨å“ªäº›æ¨¡å—ï¼Ÿï¼ˆController / Service / Widgetï¼‰
   - æ•°æ®æµå‘å¦‚ä½•ï¼Ÿ
   - çŠ¶æ€å¦‚ä½•ç®¡ç†ï¼Ÿ

2. **æ–‡ä»¶ç»“æ„**:
   - éœ€è¦åˆ›å»ºå“ªäº›æ–°æ–‡ä»¶ï¼Ÿ
   - éœ€è¦ä¿®æ”¹å“ªäº›ç°æœ‰æ–‡ä»¶ï¼Ÿ
   - æ–‡ä»¶å‘½åå’Œç»„ç»‡æ–¹å¼

3. **å…³é”®æŠ€æœ¯ç‚¹**:
   - ä½¿ç”¨å“ªäº›ç¬¬ä¸‰æ–¹åº“ï¼Ÿ
   - å¦‚ä½•å®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Ÿ
   - æ˜¯å¦éœ€è¦åŸç”Ÿæ’ä»¶ï¼Ÿ

4. **æ€§èƒ½ä¼˜åŒ–ç­–ç•¥**:
   - å¦‚ä½•é¿å…æ€§èƒ½é—®é¢˜ï¼Ÿ
   - æ˜¯å¦éœ€è¦ç¼“å­˜ï¼Ÿ
   - èµ„æºç®¡ç†ç­–ç•¥

5. **é£é™©ç‚¹**:
   - æ½œåœ¨çš„æŠ€æœ¯éš¾ç‚¹
   - å¯èƒ½çš„æ€§èƒ½ç“¶é¢ˆ
   - å¤‡é€‰æ–¹æ¡ˆ

**è¾“å‡ºæ ¼å¼**:
```markdown
## ğŸ—ï¸ æŠ€æœ¯æ–¹æ¡ˆ

### æ¶æ„è®¾è®¡
- **æ¶‰åŠæ¨¡å—**: [æ¨¡å—åˆ—è¡¨]
- **æ•°æ®æµ**: [æè¿°æ•°æ®æµ]
- **çŠ¶æ€ç®¡ç†**: [å¦‚ä½•ç®¡ç†çŠ¶æ€]

### æ–‡ä»¶ç»“æ„
ğŸ“ æ–°å¢æ–‡ä»¶:
- `lib/app/modules/xxx/controllers/xxx_controller.dart`
- `lib/app/modules/xxx/views/xxx_view.dart`
- ...

ğŸ“ ä¿®æ”¹æ–‡ä»¶:
- `lib/app/routes/app_routes.dart` - æ·»åŠ è·¯ç”±
- ...

### å…³é”®æŠ€æœ¯
1. [æŠ€æœ¯ç‚¹ 1]
2. [æŠ€æœ¯ç‚¹ 2]
...

### æ€§èƒ½ä¼˜åŒ–
- [ä¼˜åŒ–ç­–ç•¥ 1]
- [ä¼˜åŒ–ç­–ç•¥ 2]

### é£é™©è¯„ä¼°
âš ï¸ [é£é™©ç‚¹ 1]: [è§£å†³æ–¹æ¡ˆ]
âš ï¸ [é£é™©ç‚¹ 2]: [è§£å†³æ–¹æ¡ˆ]

ç¡®è®¤æ–¹æ¡ˆæ— è¯¯åï¼Œæˆ‘å°†å¼€å§‹å®ç°ä»£ç ã€‚
```

---

### ğŸ“ é˜¶æ®µ 3: å®ç°è®¡åˆ’ (Implementation Plan)

**è¡ŒåŠ¨**: åˆ¶å®šåˆ†æ­¥å®ç°è®¡åˆ’

**å¿…é¡»åŒ…å«**:
1. å®ç°é¡ºåºï¼ˆæŒ‰ä¾èµ–å…³ç³»ï¼‰
2. æ¯ä¸€æ­¥çš„å…·ä½“å·¥ä½œ
3. æµ‹è¯•éªŒè¯ç‚¹

**è¾“å‡ºæ ¼å¼**:
```markdown
## âœ… å®ç°è®¡åˆ’

### Step 1: [æ­¥éª¤åç§°]
- åˆ›å»º `xxx_controller.dart`
- å®ç°çŠ¶æ€ç®¡ç†é€»è¾‘
- éªŒè¯: [å¦‚ä½•éªŒè¯]

### Step 2: [æ­¥éª¤åç§°]
- åˆ›å»º `xxx_view.dart`
- å®ç° UI å¸ƒå±€
- éªŒè¯: [å¦‚ä½•éªŒè¯]

### Step 3: [æ­¥éª¤åç§°]
- é…ç½®è·¯ç”±
- é›†æˆåˆ°ä¸»åº”ç”¨
- éªŒè¯: [å¦‚ä½•éªŒè¯]

å¼€å§‹å®ç°ï¼Ÿ
```

---

### ğŸ“ é˜¶æ®µ 4: ä»£ç å®ç° (Code Implementation)

**è¡ŒåŠ¨**: æŒ‰ç…§è®¡åˆ’é€æ­¥å®ç°ä»£ç 

**ä»£ç è§„èŒƒ**:

#### 1. æ–‡ä»¶å‘½å
- Controller: `xxx_controller.dart`
- View: `xxx_view.dart`
- Binding: `xxx_binding.dart`
- Service: `xxx_service.dart`
- Widget: `xxx_widget.dart`
- Model: `xxx.dart`

#### 2. ç±»å‘½å
- Controller: `XxxController extends GetxController`
- View: `XxxView extends StatelessWidget` æˆ– `extends GetView<XxxController>`
- Service: `XxxService extends GetxService`
- Model: `class Xxx`

#### 3. å˜é‡å‘½å
- å“åº”å¼å˜é‡: `final xxx = 0.obs;` æˆ– `final Rx<Type> xxx = Rx<Type>(value);`
- ç§æœ‰å˜é‡: `_xxx`
- å¸¸é‡: `kXxx` æˆ– `const xxx`
- æœåŠ¡å•ä¾‹: `static XxxService get to => Get.find();`

#### 4. ä»£ç ç»„ç»‡
```dart
// 1. Imports (åˆ†ç»„ï¼šDart -> Flutter -> ç¬¬ä¸‰æ–¹ -> é¡¹ç›®å†…éƒ¨)
import 'dart:async';
import 'package:flutter/cupertino.dart';
import 'package:get/get.dart';
import '../../../services/xxx_service.dart';

// 2. Class å®šä¹‰
class XxxController extends GetxController {
  // 2.1 ä¾èµ–æ³¨å…¥
  final XxxService _service = XxxService.to;
  
  // 2.2 å“åº”å¼å˜é‡
  final loading = false.obs;
  final data = <Type>[].obs;
  
  // 2.3 ç”Ÿå‘½å‘¨æœŸ
  @override
  void onInit() {
    super.onInit();
    // åˆå§‹åŒ–é€»è¾‘
  }
  
  @override
  void onClose() {
    // æ¸…ç†é€»è¾‘
    super.onClose();
  }
  
  // 2.4 å…¬å…±æ–¹æ³•
  Future<void> loadData() async {
    // ä¸šåŠ¡é€»è¾‘
  }
  
  // 2.5 ç§æœ‰æ–¹æ³•
  void _helperMethod() {
    // è¾…åŠ©é€»è¾‘
  }
}
```

#### 5. UI ç»„ä»¶è§„èŒƒ
```dart
class XxxView extends GetView<XxxController> {
  const XxxView({super.key});
  
  @override
  Widget build(BuildContext context) {
    return CupertinoPageScaffold(
      backgroundColor: CupertinoColors.transparent, // æ˜¾ç¤ºæ¸å˜èƒŒæ™¯
      child: Obx(() {
        // å“åº”å¼ UI
        if (controller.loading.value) {
          return _buildLoading();
        }
        
        if (controller.data.isEmpty) {
          return _buildEmpty();
        }
        
        return _buildContent();
      }),
    );
  }
  
  // æ‹†åˆ†æ„å»ºæ–¹æ³•
  Widget _buildLoading() => /* ... */;
  Widget _buildEmpty() => /* ... */;
  Widget _buildContent() => /* ... */;
}
```

#### 6. æ€§èƒ½ä¼˜åŒ–è§„èŒƒ
- âœ… **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ `cacheWidth` é™åˆ¶è§£ç å°ºå¯¸
- âœ… **åˆ—è¡¨ä¼˜åŒ–**: ä½¿ç”¨ `ListView.builder` æˆ– `SliverList`
- âœ… **è§†é¢‘ä¼˜åŒ–**: å…¨å±€å•ä¾‹æ’­æ”¾å™¨ï¼ŒåŠæ—¶é‡Šæ”¾
- âœ… **çŠ¶æ€ä¼˜åŒ–**: æœ€å°åŒ– `Obx` èŒƒå›´ï¼Œé¿å…ä¸å¿…è¦çš„é‡å»º
- âœ… **å†…å­˜ä¼˜åŒ–**: åŠæ—¶æ¸…ç†èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼

#### 7. æ—¥å¿—è§„èŒƒ
```dart
final Logger _logger = Logger();

_logger.d('è°ƒè¯•ä¿¡æ¯');      // Debug
_logger.i('æ™®é€šä¿¡æ¯');      // Info
_logger.w('è­¦å‘Šä¿¡æ¯');      // Warning
_logger.e('é”™è¯¯ä¿¡æ¯');      // Error
```

#### 8. æ³¨é‡Šè§„èŒƒ
```dart
/// ç±»çº§åˆ«æ–‡æ¡£æ³¨é‡Š
/// 
/// è¯¦ç»†è¯´æ˜ç±»çš„åŠŸèƒ½å’Œç”¨é€”
class XxxController extends GetxController {
  /// æ–¹æ³•æ–‡æ¡£æ³¨é‡Š
  /// 
  /// å‚æ•°è¯´æ˜ï¼š
  /// - [param1]: å‚æ•°1è¯´æ˜
  /// - [param2]: å‚æ•°2è¯´æ˜
  /// 
  /// è¿”å›å€¼ï¼šè¿”å›å€¼è¯´æ˜
  Future<void> methodName(Type param1, Type param2) async {
    // ğŸ”¥ é‡è¦é€»è¾‘çš„è¡Œå†…æ³¨é‡Š
    // âœ… å®Œæˆæ ‡è®°
    // âš ï¸ è­¦å‘Šæ ‡è®°
  }
}
```

---

## ğŸ¨ UI/UX è§„èŒƒ

### Cupertino é£æ ¼å¼ºåˆ¶è¦æ±‚
- âœ… ä½¿ç”¨ `CupertinoPageScaffold` è€Œä¸æ˜¯ `Scaffold`
- âœ… ä½¿ç”¨ `CupertinoButton` è€Œä¸æ˜¯ `ElevatedButton`
- âœ… ä½¿ç”¨ `CupertinoNavigationBar` æˆ– `CupertinoSliverNavigationBar`
- âœ… ä½¿ç”¨ `CupertinoAlertDialog` è€Œä¸æ˜¯ `AlertDialog`
- âœ… ä½¿ç”¨ `CupertinoColors` è€Œä¸æ˜¯ `Colors`
- âœ… éµå¾ª iOS Human Interface Guidelines

### åŠ¨ç”»è§„èŒƒ
```dart
// æ ‡å‡†åŠ¨ç”»æ—¶é•¿
const fastDuration = Duration(milliseconds: 150);
const normalDuration = Duration(milliseconds: 220);
const slowDuration = Duration(milliseconds: 300);

// ä½¿ç”¨ flutter_animate
widget
  .animate()
  .fadeIn(duration: 220.ms)
  .moveY(begin: 10, end: 0)
  .scale(begin: const Offset(0.98, 0.98));
```

### Liquid Glass UI
```dart
LiquidGlass(
  settings: LiquidGlassSettings(
    glassColor: const Color.fromARGB(25, 255, 255, 255),
    saturation: 1.2,
    refractiveIndex: 1.15,
    thickness: 10,
    lightIntensity: 1.5,
    chromaticAberration: 0.3,
  ),
  shape: const LiquidRoundedSuperellipse(
    borderRadius: Radius.circular(12),
  ),
  child: /* å†…å®¹ */,
)
```

### ä¸»é¢˜é¢œè‰²
```dart
// ä¸»è‰²è°ƒ
static const primaryColor = Color(0xFF5E17EB);

// ç³»ç»Ÿé¢œè‰²ï¼ˆè‡ªé€‚åº”ä¸»é¢˜ï¼‰
CupertinoColors.systemBackground.resolveFrom(context)
CupertinoColors.label.resolveFrom(context)
CupertinoColors.secondaryLabel.resolveFrom(context)
```

---

## ğŸ”’ å¼ºåˆ¶çº¦æŸ

### âŒ ç¦æ­¢äº‹é¡¹
1. **ç¦æ­¢ä½¿ç”¨ Material Design ç»„ä»¶**ï¼ˆé™¤éç‰¹æ®Šè¯´æ˜ï¼‰
2. **ç¦æ­¢ä½¿ç”¨ç½‘ç»œè¯·æ±‚**ï¼ˆçº¯ç¦»çº¿åº”ç”¨ï¼‰
3. **ç¦æ­¢æ”¶é›†ç”¨æˆ·æ•°æ®**ï¼ˆç¬¦åˆ Apple éšç§æ”¿ç­–ï¼‰
4. **ç¦æ­¢ç›´æ¥ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“ä»£ç **
5. **ç¦æ­¢ä½¿ç”¨ StatefulWidget**ï¼ˆé™¤éæœ‰æ˜ç¡®ç†ç”±ï¼‰
6. **ç¦æ­¢åœ¨ View ä¸­å†™ä¸šåŠ¡é€»è¾‘**
7. **ç¦æ­¢ç¡¬ç¼–ç å­—ç¬¦ä¸²**ï¼ˆä½¿ç”¨å›½é™…åŒ–ï¼‰
8. **ç¦æ­¢å¿½ç•¥é”™è¯¯å¤„ç†**

### âœ… å¿…é¡»äº‹é¡¹
1. **å¿…é¡»ä½¿ç”¨ GetX è¿›è¡ŒçŠ¶æ€ç®¡ç†**
2. **å¿…é¡»ä½¿ç”¨ GetX è·¯ç”±ç³»ç»Ÿ**
3. **å¿…é¡»ä½¿ç”¨ StatelessWidget + Controller æ¨¡å¼**
4. **å¿…é¡»åœ¨ Controller çš„ onClose ä¸­æ¸…ç†èµ„æº**
5. **å¿…é¡»ä½¿ç”¨å“åº”å¼å˜é‡ (Rx)**
6. **å¿…é¡»ä½¿ç”¨ Obx åŒ…è£¹å“åº”å¼ UI**
7. **å¿…é¡»å¤„ç†åŠ è½½/ç©º/é”™è¯¯çŠ¶æ€**
8. **å¿…é¡»æ·»åŠ é€‚å½“çš„æ—¥å¿—**
9. **å¿…é¡»è€ƒè™‘æ€§èƒ½ä¼˜åŒ–**
10. **å¿…é¡»éµå¾ª iOS è®¾è®¡è§„èŒƒ**

---

## ğŸ“ æ¶æ„æ¨¡å¼å‚è€ƒ

### å®Œæ•´æ¨¡å—ç¤ºä¾‹

#### 1. Model (æ•°æ®æ¨¡å‹)
```dart
// lib/app/data/models/item.dart
class Item {
  final String id;
  final String name;
  
  Item({required this.id, required this.name});
  
  // JSON åºåˆ—åŒ–
  factory Item.fromJson(Map<String, dynamic> json) => Item(
    id: json['id'] as String,
    name: json['name'] as String,
  );
  
  Map<String, dynamic> toJson() => {
    'id': id,
    'name': name,
  };
}
```

#### 2. Repository (æ•°æ®ä»“åº“)
```dart
// lib/app/data/repositories/item_repository.dart
class ItemRepository {
  Future<List<Item>> getItems() async {
    // ä»æœ¬åœ°èµ„æºæˆ–å­˜å‚¨è·å–æ•°æ®
  }
}
```

#### 3. Service (å…¨å±€æœåŠ¡)
```dart
// lib/app/services/item_service.dart
class ItemService extends GetxService {
  static ItemService get to => Get.find();
  
  final _logger = Logger();
  final _items = <Item>[].obs;
  
  Future<ItemService> init() async {
    _logger.i('ItemService åˆå§‹åŒ–');
    await _loadItems();
    return this;
  }
  
  Future<void> _loadItems() async {
    // åŠ è½½æ•°æ®
  }
  
  @override
  void onClose() {
    _logger.d('ItemService å…³é—­');
    super.onClose();
  }
}
```

#### 4. Controller (é¡µé¢æ§åˆ¶å™¨)
```dart
// lib/app/modules/items/controllers/items_controller.dart
class ItemsController extends GetxController {
  final Logger _logger = Logger();
  final ItemService _service = ItemService.to;
  
  final loading = false.obs;
  final items = <Item>[].obs;
  
  @override
  void onInit() {
    super.onInit();
    _logger.d('ItemsController åˆå§‹åŒ–');
    loadItems();
  }
  
  Future<void> loadItems() async {
    loading.value = true;
    try {
      items.value = await _service.getItems();
    } catch (e) {
      _logger.e('åŠ è½½å¤±è´¥: $e');
    } finally {
      loading.value = false;
    }
  }
  
  @override
  void onClose() {
    _logger.d('ItemsController å…³é—­');
    super.onClose();
  }
}
```

#### 5. Binding (ä¾èµ–æ³¨å…¥)
```dart
// lib/app/modules/items/bindings/items_binding.dart
class ItemsBinding extends Bindings {
  @override
  void dependencies() {
    Get.lazyPut<ItemsController>(() => ItemsController());
  }
}
```

#### 6. View (é¡µé¢è§†å›¾)
```dart
// lib/app/modules/items/views/items_view.dart
class ItemsView extends GetView<ItemsController> {
  const ItemsView({super.key});
  
  @override
  Widget build(BuildContext context) {
    return CupertinoPageScaffold(
      backgroundColor: CupertinoColors.transparent,
      child: CustomScrollView(
        slivers: [
          CupertinoSliverNavigationBar(
            largeTitle: const Text('æ ‡é¢˜'),
          ),
          Obx(() {
            if (controller.loading.value) {
              return SliverFillRemaining(
                child: _buildLoading(),
              );
            }
            
            if (controller.items.isEmpty) {
              return SliverFillRemaining(
                child: _buildEmpty(),
              );
            }
            
            return SliverList(
              delegate: SliverChildBuilderDelegate(
                (context, index) {
                  final item = controller.items[index];
                  return _ItemTile(item: item);
                },
                childCount: controller.items.length,
              ),
            );
          }),
        ],
      ),
    );
  }
  
  Widget _buildLoading() => const Center(
    child: CupertinoActivityIndicator(),
  );
  
  Widget _buildEmpty() => Center(
    child: Text(
      'æš‚æ— æ•°æ®',
      style: TextStyle(
        color: CupertinoColors.secondaryLabel,
      ),
    ),
  );
}

class _ItemTile extends StatelessWidget {
  const _ItemTile({required this.item});
  final Item item;
  
  @override
  Widget build(BuildContext context) {
    return CupertinoListTile(
      title: Text(item.name),
      trailing: const CupertinoListTileChevron(),
      onTap: () {
        // è·³è½¬è¯¦æƒ…
        Get.toNamed(Routes.ITEM_DETAIL, arguments: item);
      },
    );
  }
}
```

#### 7. Routes (è·¯ç”±é…ç½®)
```dart
// lib/app/routes/app_routes.dart
abstract class Routes {
  static const ITEMS = '/items';
  static const ITEM_DETAIL = '/item_detail';
}

// lib/app/routes/app_pages.dart
static final routes = [
  GetPage(
    name: Routes.ITEMS,
    page: () => const ItemsView(),
    binding: ItemsBinding(),
  ),
  // ...
];
```

---

## ğŸ” ç‰¹æ®Šåœºæ™¯å¤„ç†

### è§†é¢‘æ’­æ”¾
```dart
// ä½¿ç”¨å…¨å±€å•ä¾‹æœåŠ¡
final controller = await VideoControllerService.to.switchTo(videoPath);

// é¡µé¢å…³é—­æ—¶é‡Šæ”¾
@override
void onClose() {
  VideoControllerService.to.release();
  super.onClose();
}
```

### å›¾ç‰‡ä¼˜åŒ–
```dart
ExtendedImage.asset(
  imagePath,
  fit: BoxFit.cover,
  cacheWidth: (MediaQuery.of(context).size.width * 
    MediaQuery.of(context).devicePixelRatio).round(),
)
```

### å›½é™…åŒ–
```dart
// ä½¿ç”¨
Text('key'.tr)

// å®šä¹‰ (lib/app/core/i18n/translation_service.dart)
class TranslationService extends Translations {
  @override
  Map<String, Map<String, String>> get keys => {
    'zh_CN': {'key': 'ä¸­æ–‡'},
    'en_US': {'key': 'English'},
  };
}
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡è¦æ±‚

### ç›®æ ‡æ€§èƒ½
- **CPU å ç”¨**:
  - é™æ­¢çŠ¶æ€: < 5%
  - æ»šåŠ¨çŠ¶æ€: < 15%
  - è§†é¢‘æ’­æ”¾: < 35%
  
- **å†…å­˜å ç”¨**:
  - åŸºç¡€: < 50MB
  - å›¾ç‰‡åŠ è½½: < 100MB
  - è§†é¢‘æ’­æ”¾: < 150MB
  
- **å¸§ç‡**: ç¨³å®š 60 FPS

### æ€§èƒ½ç›‘æ§
```dart
// ä½¿ç”¨ Logger è®°å½•æ€§èƒ½æ•°æ®
_logger.d('åŠ è½½è€—æ—¶: ${stopwatch.elapsedMilliseconds}ms');
```

---

## âœ… éªŒæ”¶æ ‡å‡†

æ¯ä¸ªåŠŸèƒ½å®Œæˆåï¼Œå¿…é¡»é€šè¿‡ä»¥ä¸‹æ£€æŸ¥ï¼š

### ä»£ç è´¨é‡
- [ ] æ—  Lint é”™è¯¯
- [ ] æ— ç¼–è¯‘è­¦å‘Š
- [ ] ä»£ç æ ¼å¼åŒ– (`flutter format`)
- [ ] éµå¾ªå‘½åè§„èŒƒ
- [ ] æ·»åŠ å¿…è¦æ³¨é‡Š

### åŠŸèƒ½å®Œæ•´
- [ ] å®ç°æ‰€æœ‰éœ€æ±‚åŠŸèƒ½
- [ ] å¤„ç†åŠ è½½çŠ¶æ€
- [ ] å¤„ç†ç©ºçŠ¶æ€
- [ ] å¤„ç†é”™è¯¯çŠ¶æ€
- [ ] æ·»åŠ é€‚å½“åŠ¨ç”»

### æ€§èƒ½æµ‹è¯•
- [ ] CPU å ç”¨ç¬¦åˆè¦æ±‚
- [ ] å†…å­˜å ç”¨ç¬¦åˆè¦æ±‚
- [ ] æ— å†…å­˜æ³„æ¼
- [ ] æ»šåŠ¨æµç•… (60 FPS)

### ç”¨æˆ·ä½“éªŒ
- [ ] ç¬¦åˆ iOS è®¾è®¡è§„èŒƒ
- [ ] åŠ¨ç”»æµç•…è‡ªç„¶
- [ ] äº¤äº’å“åº”åŠæ—¶
- [ ] æ”¯æŒæ·±è‰²æ¨¡å¼
- [ ] æ”¯æŒå¤šè¯­è¨€

---

## ğŸ¤– AI åŠ©æ‰‹å·¥ä½œæµç¨‹æ€»ç»“

å½“æ”¶åˆ°ç”¨æˆ·éœ€æ±‚æ—¶ï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ‰§è¡Œï¼š

```
1ï¸âƒ£ éœ€æ±‚æ¾„æ¸…
   â†“ (æé—® â†’ ç¡®è®¤)
   
2ï¸âƒ£ æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡
   â†“ (è®¾è®¡æ¶æ„ â†’ è¯„ä¼°é£é™© â†’ ç¡®è®¤)
   
3ï¸âƒ£ å®ç°è®¡åˆ’
   â†“ (åˆ†æ­¥éª¤ â†’ åˆ¶å®šéªŒè¯ç‚¹ â†’ ç¡®è®¤)
   
4ï¸âƒ£ ä»£ç å®ç°
   â†“ (é€æ­¥å®ç° â†’ æµ‹è¯•éªŒè¯)
   
5ï¸âƒ£ éªŒæ”¶æ£€æŸ¥
   âœ… å®Œæˆ
```

### å…³é”®åŸåˆ™
- ğŸš« **æ°¸è¿œä¸è¦è·³è¿‡éœ€æ±‚æ¾„æ¸…é˜¶æ®µ**
- ğŸš« **æ°¸è¿œä¸è¦åœ¨æ–¹æ¡ˆæœªç¡®è®¤å‰å†™ä»£ç **
- ğŸš« **æ°¸è¿œä¸è¦å¿½ç•¥æ€§èƒ½ä¼˜åŒ–**
- âœ… **å§‹ç»ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒ**
- âœ… **å§‹ç»ˆéµå¾ªæ¶æ„è§„èŒƒ**
- âœ… **å§‹ç»ˆç¼–å†™é«˜è´¨é‡ä»£ç **

---

**è§„åˆ™ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-10-27  
**é¡¹ç›®**: Glasso - Flutter + GetX iOS App

